<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>3.5 Individual Parameter Analyses | DEQ Water Quality Automated Assessment User Guide</title>
  <meta name="description" content="A companion document describing the WQA automated assessment methodology." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="3.5 Individual Parameter Analyses | DEQ Water Quality Automated Assessment User Guide" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="A companion document describing the WQA automated assessment methodology." />
  <meta name="github-repo" content="openscapes/series" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="3.5 Individual Parameter Analyses | DEQ Water Quality Automated Assessment User Guide" />
  
  <meta name="twitter:description" content="A companion document describing the WQA automated assessment methodology." />
  

<meta name="author" content="DEQ Automated Assessment Team" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="automated-assessment-analysis.html"/>
<link rel="next" href="automated-output.html"/>
<script src="libs/header-attrs-2.6/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.13/datatables.js"></script>
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.0.0/js/crosstalk.min.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/Proj4Leaflet-1.0.1/proj4-compressed.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.0.3/leaflet.js"></script>
<script src="assets/book.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="lib/css/bootstrap.min.css" type="text/css" />
<link rel="stylesheet" href="lib/css/style.css" type="text/css" />
<link rel="stylesheet" href="lib/css/lesson.css" type="text/css" />
<link rel="stylesheet" href="assets/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">DEQ Water Quality Automated Assessment User Manual</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="HowToUseDocument.html"><a href="HowToUseDocument.html"><i class="fa fa-check"></i><b>1.1</b> How to Use Document</a></li>
<li class="chapter" data-level="1.2" data-path="ProjectHistory.html"><a href="ProjectHistory.html"><i class="fa fa-check"></i><b>1.2</b> Project History</a></li>
<li class="chapter" data-level="1.3" data-path="wqa-technical-support-team.html"><a href="wqa-technical-support-team.html"><i class="fa fa-check"></i><b>1.3</b> WQA Technical Support Team</a></li>
<li class="chapter" data-level="1.4" data-path="Acknowledgements.html"><a href="Acknowledgements.html"><i class="fa fa-check"></i><b>1.4</b> Acknowledgements</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="data-organization.html"><a href="data-organization.html"><i class="fa fa-check"></i><b>2</b> Data Organization</a>
<ul>
<li class="chapter" data-level="2.1" data-path="conventionals-data.html"><a href="conventionals-data.html"><i class="fa fa-check"></i><b>2.1</b> Conventionals Data</a></li>
<li class="chapter" data-level="2.2" data-path="water-column-metals.html"><a href="water-column-metals.html"><i class="fa fa-check"></i><b>2.2</b> Water Column Metals</a></li>
<li class="chapter" data-level="2.3" data-path="sediment-metals.html"><a href="sediment-metals.html"><i class="fa fa-check"></i><b>2.3</b> Sediment Metals</a></li>
<li class="chapter" data-level="2.4" data-path="fish-tissue-data.html"><a href="fish-tissue-data.html"><i class="fa fa-check"></i><b>2.4</b> Fish Tissue Data</a></li>
<li class="chapter" data-level="2.5" data-path="pcb-data.html"><a href="pcb-data.html"><i class="fa fa-check"></i><b>2.5</b> PCB Data</a></li>
<li class="chapter" data-level="2.6" data-path="vdh-data.html"><a href="vdh-data.html"><i class="fa fa-check"></i><b>2.6</b> VDH Data</a></li>
<li class="chapter" data-level="2.7" data-path="citizen-monitoring-data.html"><a href="citizen-monitoring-data.html"><i class="fa fa-check"></i><b>2.7</b> Citizen Monitoring Data</a></li>
<li class="chapter" data-level="2.8" data-path="station-metadata.html"><a href="station-metadata.html"><i class="fa fa-check"></i><b>2.8</b> Station Metadata</a></li>
<li class="chapter" data-level="2.9" data-path="low-flow-7q10-data.html"><a href="low-flow-7q10-data.html"><i class="fa fa-check"></i><b>2.9</b> Low Flow (7Q10) Data</a>
<ul>
<li class="chapter" data-level="2.9.1" data-path="low-flow-7q10-data.html"><a href="low-flow-7q10-data.html#q10-method"><i class="fa fa-check"></i><b>2.9.1</b> 7Q10 Method</a></li>
<li class="chapter" data-level="2.9.2" data-path="low-flow-7q10-data.html"><a href="low-flow-7q10-data.html#usgs-site-data-gathering"><i class="fa fa-check"></i><b>2.9.2</b> USGS Site Data Gathering</a></li>
<li class="chapter" data-level="2.9.3" data-path="low-flow-7q10-data.html"><a href="low-flow-7q10-data.html#important-7q10-calculation-notes"><i class="fa fa-check"></i><b>2.9.3</b> Important 7Q10 Calculation Notes</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="automated-assessment-methods.html"><a href="automated-assessment-methods.html"><i class="fa fa-check"></i><b>3</b> Automated Assessment Methods</a>
<ul>
<li class="chapter" data-level="3.1" data-path="metadata-attribution.html"><a href="metadata-attribution.html"><i class="fa fa-check"></i><b>3.1</b> Metadata Attribution</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="metadata-attribution.html"><a href="metadata-attribution.html#distinct-sites"><i class="fa fa-check"></i><b>3.1.1</b> Distinct Sites</a></li>
<li class="chapter" data-level="3.1.2" data-path="metadata-attribution.html"><a href="metadata-attribution.html#join-assessment-region-and-subbasin-information"><i class="fa fa-check"></i><b>3.1.2</b> Join Assessment Region and Subbasin Information</a></li>
<li class="chapter" data-level="3.1.3" data-path="metadata-attribution.html"><a href="metadata-attribution.html#join-stations-to-wqs"><i class="fa fa-check"></i><b>3.1.3</b> Join Stations to WQS</a></li>
<li class="chapter" data-level="3.1.4" data-path="metadata-attribution.html"><a href="metadata-attribution.html#join-stations-to-aus"><i class="fa fa-check"></i><b>3.1.4</b> Join Stations to AUs</a></li>
<li class="chapter" data-level="3.1.5" data-path="metadata-attribution.html"><a href="metadata-attribution.html#where-does-this-information-go"><i class="fa fa-check"></i><b>3.1.5</b> Where does this information go?</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="organize-metadata.html"><a href="organize-metadata.html"><i class="fa fa-check"></i><b>3.2</b> Organize Metadata</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="organize-metadata.html"><a href="organize-metadata.html#reorganize-conventionals-dataset"><i class="fa fa-check"></i><b>3.2.1</b> Reorganize Conventionals Dataset</a></li>
<li class="chapter" data-level="3.2.2" data-path="organize-metadata.html"><a href="organize-metadata.html#adding-secchi-depth-to-conventionals-dataset"><i class="fa fa-check"></i><b>3.2.2</b> Adding Secchi Depth to conventionals dataset</a></li>
<li class="chapter" data-level="3.2.3" data-path="organize-metadata.html"><a href="organize-metadata.html#add-citizen-monitoring-data-to-conventionals"><i class="fa fa-check"></i><b>3.2.3</b> Add Citizen Monitoring Data to conventionals</a></li>
<li class="chapter" data-level="3.2.4" data-path="organize-metadata.html"><a href="organize-metadata.html#ensure-all-stations-have-necessary-wqs-and-au-information"><i class="fa fa-check"></i><b>3.2.4</b> Ensure all stations have necessary WQS and AU information</a></li>
<li class="chapter" data-level="3.2.5" data-path="organize-metadata.html"><a href="organize-metadata.html#clean-up-pcb-dataset"><i class="fa fa-check"></i><b>3.2.5</b> Clean up PCB dataset</a></li>
<li class="chapter" data-level="3.2.6" data-path="organize-metadata.html"><a href="organize-metadata.html#clean-up-fish-tissue-dataset"><i class="fa fa-check"></i><b>3.2.6</b> Clean up Fish Tissue dataset</a></li>
<li class="chapter" data-level="3.2.7" data-path="organize-metadata.html"><a href="organize-metadata.html#pin-official-clean-ir-data-to-r-server"><i class="fa fa-check"></i><b>3.2.7</b> Pin Official Clean IR data to R server</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="automated-assessment.html"><a href="automated-assessment.html"><i class="fa fa-check"></i><b>3.3</b> Automated Assessment</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="automated-assessment.html"><a href="automated-assessment.html#bring-in-required-datasets"><i class="fa fa-check"></i><b>3.3.1</b> Bring in required datasets</a></li>
<li class="chapter" data-level="3.3.2" data-path="automated-assessment.html"><a href="automated-assessment.html#attach-wqs-information"><i class="fa fa-check"></i><b>3.3.2</b> Attach WQS information</a></li>
<li class="chapter" data-level="3.3.3" data-path="automated-assessment.html"><a href="automated-assessment.html#identify-station-type"><i class="fa fa-check"></i><b>3.3.3</b> Identify Station Type</a></li>
<li class="chapter" data-level="3.3.4" data-path="automated-assessment.html"><a href="automated-assessment.html#bring-in-low-flow-information"><i class="fa fa-check"></i><b>3.3.4</b> Bring in Low Flow Information</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="automated-assessment-analysis.html"><a href="automated-assessment-analysis.html"><i class="fa fa-check"></i><b>3.4</b> Automated Assessment Analysis</a></li>
<li class="chapter" data-level="3.5" data-path="individual-parameter-analyses.html"><a href="individual-parameter-analyses.html"><i class="fa fa-check"></i><b>3.5</b> Individual Parameter Analyses</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="individual-parameter-analyses.html"><a href="individual-parameter-analyses.html#how-to-test-individual-parameter-functions"><i class="fa fa-check"></i><b>3.5.1</b> How to Test Individual Parameter Functions</a></li>
<li class="chapter" data-level="3.5.2" data-path="individual-parameter-analyses.html"><a href="individual-parameter-analyses.html#temperature"><i class="fa fa-check"></i><b>3.5.2</b> Temperature</a></li>
<li class="chapter" data-level="3.5.3" data-path="individual-parameter-analyses.html"><a href="individual-parameter-analyses.html#dissolved-oxygen"><i class="fa fa-check"></i><b>3.5.3</b> Dissolved Oxygen</a></li>
<li class="chapter" data-level="3.5.4" data-path="individual-parameter-analyses.html"><a href="individual-parameter-analyses.html#ph"><i class="fa fa-check"></i><b>3.5.4</b> pH</a></li>
<li class="chapter" data-level="3.5.5" data-path="individual-parameter-analyses.html"><a href="individual-parameter-analyses.html#bacteria"><i class="fa fa-check"></i><b>3.5.5</b> Bacteria</a></li>
<li class="chapter" data-level="3.5.6" data-path="individual-parameter-analyses.html"><a href="individual-parameter-analyses.html#nutrients"><i class="fa fa-check"></i><b>3.5.6</b> Nutrients</a></li>
<li class="chapter" data-level="3.5.7" data-path="individual-parameter-analyses.html"><a href="individual-parameter-analyses.html#ammonia"><i class="fa fa-check"></i><b>3.5.7</b> Ammonia</a></li>
<li class="chapter" data-level="3.5.8" data-path="individual-parameter-analyses.html"><a href="individual-parameter-analyses.html#pcb"><i class="fa fa-check"></i><b>3.5.8</b> PCB</a></li>
<li class="chapter" data-level="3.5.9" data-path="individual-parameter-analyses.html"><a href="individual-parameter-analyses.html#metals"><i class="fa fa-check"></i><b>3.5.9</b> Metals</a></li>
<li class="chapter" data-level="3.5.10" data-path="individual-parameter-analyses.html"><a href="individual-parameter-analyses.html#fish-tissue"><i class="fa fa-check"></i><b>3.5.10</b> Fish Tissue</a></li>
<li class="chapter" data-level="3.5.11" data-path="individual-parameter-analyses.html"><a href="individual-parameter-analyses.html#benthics"><i class="fa fa-check"></i><b>3.5.11</b> Benthics</a></li>
<li class="chapter" data-level="3.5.12" data-path="individual-parameter-analyses.html"><a href="individual-parameter-analyses.html#additional-automated-functions"><i class="fa fa-check"></i><b>3.5.12</b> Additional Automated Functions</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="automated-output.html"><a href="automated-output.html"><i class="fa fa-check"></i><b>3.6</b> Automated Output</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="regional-metadata-validation-tool-how-to.html"><a href="regional-metadata-validation-tool-how-to.html"><i class="fa fa-check"></i><b>4</b> Regional Metadata Validation <br>Tool How To</a>
<ul>
<li class="chapter" data-level="4.1" data-path="application-orientation.html"><a href="application-orientation.html"><i class="fa fa-check"></i><b>4.1</b> Application Orientation</a></li>
<li class="chapter" data-level="4.2" data-path="application-use-water-quality-standards-qa-watershed-selection-tab.html"><a href="application-use-water-quality-standards-qa-watershed-selection-tab.html"><i class="fa fa-check"></i><b>4.2</b> Application Use: <br>Water Quality Standards QA- <br>Watershed Selection Tab</a></li>
<li class="chapter" data-level="4.3" data-path="application-use-water-quality-standards-qa-manual-review-tab.html"><a href="application-use-water-quality-standards-qa-manual-review-tab.html"><i class="fa fa-check"></i><b>4.3</b> Application Use: <br>Water Quality Standards QA- <br>Manual Review Tab</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="application-use-water-quality-standards-qa-manual-review-tab.html"><a href="application-use-water-quality-standards-qa-manual-review-tab.html#map-orientation"><i class="fa fa-check"></i><b>4.3.1</b> Map Orientation</a></li>
<li class="chapter" data-level="4.3.2" data-path="application-use-water-quality-standards-qa-manual-review-tab.html"><a href="application-use-water-quality-standards-qa-manual-review-tab.html#what-do-the-buttons-do"><i class="fa fa-check"></i><b>4.3.2</b> What do the buttons do?</a></li>
<li class="chapter" data-level="4.3.3" data-path="application-use-water-quality-standards-qa-manual-review-tab.html"><a href="application-use-water-quality-standards-qa-manual-review-tab.html#application-operation"><i class="fa fa-check"></i><b>4.3.3</b> Application Operation</a></li>
<li class="chapter" data-level="4.3.4" data-path="application-use-water-quality-standards-qa-manual-review-tab.html"><a href="application-use-water-quality-standards-qa-manual-review-tab.html#application-operation-station-that-snapped-to-1-wqs-segment"><i class="fa fa-check"></i><b>4.3.4</b> Application Operation: <br>Station that Snapped to 1 WQS Segment</a></li>
<li class="chapter" data-level="4.3.5" data-path="application-use-water-quality-standards-qa-manual-review-tab.html"><a href="application-use-water-quality-standards-qa-manual-review-tab.html#application-operation-station-that-snapped-to-1-wqs-segment-1"><i class="fa fa-check"></i><b>4.3.5</b> Application Operation: <br>Station that Snapped to &gt;1 WQS Segment</a></li>
<li class="chapter" data-level="4.3.6" data-path="application-use-water-quality-standards-qa-manual-review-tab.html"><a href="application-use-water-quality-standards-qa-manual-review-tab.html#application-operation-station-that-snapped-to-0-wqs-segments"><i class="fa fa-check"></i><b>4.3.6</b> Application Operation: <br>Station that Snapped to 0 WQS Segments</a></li>
<li class="chapter" data-level="4.3.7" data-path="application-use-water-quality-standards-qa-manual-review-tab.html"><a href="application-use-water-quality-standards-qa-manual-review-tab.html#application-operation-there-are-no-more-stations-to-attribute"><i class="fa fa-check"></i><b>4.3.7</b> Application Operation: <br>There are no more stations to attribute</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="having-problems.html"><a href="having-problems.html"><i class="fa fa-check"></i><b>4.4</b> Having problems?</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="riverine-application-how-to.html"><a href="riverine-application-how-to.html"><i class="fa fa-check"></i><b>5</b> Riverine Application How To</a></li>
<li class="chapter" data-level="6" data-path="lacustrine-application-how-to.html"><a href="lacustrine-application-how-to.html"><i class="fa fa-check"></i><b>6</b> Lacustrine Application How To</a></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">DEQ Water Quality Automated Assessment User Guide</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="individual-parameter-analyses" class="section level2" number="3.5">
<h2><span class="header-section-number">3.5</span> Individual Parameter Analyses</h2>
<p>The functions detailed in this section are called in either the <a href="https://github.com/EmmaVJones/IR2024/blob/main/3.automatedAssessment/HowToRunAutomatedAssessmentIR2024.Rmd">automated assessment workflow report</a>{target = "_blank“} or by waterbody-specific shiny applications that unpack the output of the <a href="https://github.com/EmmaVJones/IR2024/blob/main/3.automatedAssessment/HowToRunAutomatedAssessmentIR2024.Rmd">automated assessment workflow report</a>{target =”_blank“}. All the automated assessment functions are stored in a single .R file that is shared amongst the shiny applications and Rmarkdown report to minimize labor involved in maintaining these critical functions. One day, these functions will be published as an R package, but until then, you can access the latest version of this script <a href="https://github.com/EmmaVJones/IR2024/blob/main/3.automatedAssessment/automatedAssessmentFunctions.R">here</a>{target =”_blank"}.</p>
<div id="how-to-test-individual-parameter-functions" class="section level3" number="3.5.1">
<h3><span class="header-section-number">3.5.1</span> How to Test Individual Parameter Functions</h3>
<p>The following code snippet will allow you to generate the appropriate <code>stationData</code> required for most function arguments. The below snippet will only run if you have run all the required data gathering and manipulation steps identified in the <a href="automated-assessment-analysis.html#automated-assessment-analysis">Automated Assessment Analysis</a> section. The chunk below is set up such that you can easily change test stations by updating your <code>station</code> object.</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="individual-parameter-analyses.html#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="co"># any station included in the stationTable object can be specified here, whether or not there is data for the station</span></span>
<span id="cb78-2"><a href="individual-parameter-analyses.html#cb78-2" aria-hidden="true" tabindex="-1"></a>station <span class="ot">&lt;-</span> <span class="st">&#39;1AACO014.57&#39;</span> <span class="co"># other potential examples: &#39;2-JKS023.61&#39;, &#39;1ABAR037.84&#39;</span></span>
<span id="cb78-3"><a href="individual-parameter-analyses.html#cb78-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-4"><a href="individual-parameter-analyses.html#cb78-4" aria-hidden="true" tabindex="-1"></a><span class="co"># set up stationData object to run through individual parameter functions</span></span>
<span id="cb78-5"><a href="individual-parameter-analyses.html#cb78-5" aria-hidden="true" tabindex="-1"></a>stationData <span class="ot">&lt;-</span> <span class="fu">filter</span>(conventionals, FDT_STA_ID <span class="sc">%in%</span> station)<span class="sc">%&gt;%</span></span>
<span id="cb78-6"><a href="individual-parameter-analyses.html#cb78-6" aria-hidden="true" tabindex="-1"></a>   <span class="fu">left_join</span>(stationTable, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&#39;FDT_STA_ID&#39;</span> <span class="ot">=</span> <span class="st">&#39;STATION_ID&#39;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb78-7"><a href="individual-parameter-analyses.html#cb78-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Special Standards Correction step. This is done on the actual data bc some special standards have temporal components</span></span>
<span id="cb78-8"><a href="individual-parameter-analyses.html#cb78-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pHSpecialStandardsCorrection</span>() <span class="sc">%&gt;%</span> <span class="co"># correct pH to special standards where necessary</span></span>
<span id="cb78-9"><a href="individual-parameter-analyses.html#cb78-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">temperatureSpecialStandardsCorrection</span>() <span class="sc">%&gt;%</span> <span class="co"># correct temperature special standards where necessary</span></span>
<span id="cb78-10"><a href="individual-parameter-analyses.html#cb78-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># special lake steps</span></span>
<span id="cb78-11"><a href="individual-parameter-analyses.html#cb78-11" aria-hidden="true" tabindex="-1"></a>  {<span class="cf">if</span>(station <span class="sc">%in%</span> lakeStations<span class="sc">$</span>STATION_ID)</span>
<span id="cb78-12"><a href="individual-parameter-analyses.html#cb78-12" aria-hidden="true" tabindex="-1"></a>      <span class="fu">suppressWarnings</span>(<span class="fu">suppressMessages</span>(</span>
<span id="cb78-13"><a href="individual-parameter-analyses.html#cb78-13" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(., <span class="at">lakeStation =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb78-14"><a href="individual-parameter-analyses.html#cb78-14" aria-hidden="true" tabindex="-1"></a>          <span class="fu">thermoclineDepth</span>())) <span class="co"># adds thermocline information and SampleDate</span></span>
<span id="cb78-15"><a href="individual-parameter-analyses.html#cb78-15" aria-hidden="true" tabindex="-1"></a>      <span class="cf">else</span> <span class="fu">mutate</span>(., <span class="at">lakeStation =</span> <span class="cn">FALSE</span>) }</span></code></pre></div>
<div id="why-would-you-want-to-test-individual-functions" class="section level4" number="3.5.1.1">
<h4><span class="header-section-number">3.5.1.1</span> Why would you want to test individual functions?</h4>
<p>New for the IR2024 cycle, all data, methods, and results are available for regional assessment staff (or any DEQ staff) to interrogate, for riverine and lacustrine waterbody types and some estuarine methods (stay tuned on improvements on this waterbody type). The agency has been working through technology hurdles to achieve full transparency for assessment processes for a number of years, and while we aren’t fully there yet, we are getting closer. This bookdown is written as an accompanying handbook to all automated assessment processes to decipher the process for beginner R users.</p>
<p>One of the goals of the WQA program is that anyone with access to the assessment data and analytical scripts can run the automated assessment processes and come to the same results. By consistently applying the same rules and logic to assessment data, we can ensure the assessment decisions are universally applied across the state.</p>
<p>Lastly, while we hope the next section containing plain English, narrative descriptions of the automated assessment functions provide sufficient explanation as to what and why analytical steps were taken, should you run into a question, the chunk above and the functions below will allow any user to dig into any function to fully understand each process. We encourage you to investigate these functions in a stepwise manner. Should you run into problems, please reach out to the <a href="#wqa-techical-support-team">WQA Technical Support Team</a>.</p>
</div>
</div>
<div id="temperature" class="section level3" number="3.5.2">
<h3><span class="header-section-number">3.5.2</span> Temperature</h3>
</div>
<div id="dissolved-oxygen" class="section level3" number="3.5.3">
<h3><span class="header-section-number">3.5.3</span> Dissolved Oxygen</h3>
</div>
<div id="ph" class="section level3" number="3.5.4">
<h3><span class="header-section-number">3.5.4</span> pH</h3>
</div>
<div id="bacteria" class="section level3" number="3.5.5">
<h3><span class="header-section-number">3.5.5</span> Bacteria</h3>
</div>
<div id="nutrients" class="section level3" number="3.5.6">
<h3><span class="header-section-number">3.5.6</span> Nutrients</h3>
</div>
<div id="ammonia" class="section level3" number="3.5.7">
<h3><span class="header-section-number">3.5.7</span> Ammonia</h3>
</div>
<div id="pcb" class="section level3" number="3.5.8">
<h3><span class="header-section-number">3.5.8</span> PCB</h3>
</div>
<div id="metals" class="section level3" number="3.5.9">
<h3><span class="header-section-number">3.5.9</span> Metals</h3>
</div>
<div id="fish-tissue" class="section level3" number="3.5.10">
<h3><span class="header-section-number">3.5.10</span> Fish Tissue</h3>
</div>
<div id="benthics" class="section level3" number="3.5.11">
<h3><span class="header-section-number">3.5.11</span> Benthics</h3>
</div>
<div id="additional-automated-functions" class="section level3" number="3.5.12">
<h3><span class="header-section-number">3.5.12</span> Additional Automated Functions</h3>
<p>The functions below are helper functions but do not take a starring role in the automated assessment process; however, without these functions, one could not perform an automated assessment. Each function is detailed below.</p>
<div id="assessmentperiod" class="section level4" number="3.5.12.1">
<h4><span class="header-section-number">3.5.12.1</span> assessmentPeriod</h4>
<p>The <code>assessmentPeriod</code> and <code>assessmentCycle</code> objects are not functions but incredibly useful vectors. These objects hold assessment window and cycle name information that allow for significantly easier updates from cycle to cycle. By sourcing this information throughout multiple dependent arguments and functions, one can easily make cycle changes when a new cycle is ready for assessment.</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="individual-parameter-analyses.html#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Establish Assessment Period, update each cycle</span></span>
<span id="cb79-2"><a href="individual-parameter-analyses.html#cb79-2" aria-hidden="true" tabindex="-1"></a>assessmentPeriod <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="fu">c</span>(<span class="st">&quot;2017-01-01 00:00:00 UTC&quot;</span>,<span class="st">&quot;2022-12-31 23:59:59 UTC&quot;</span>),<span class="at">tz=</span><span class="st">&#39;UTC&#39;</span>)</span>
<span id="cb79-3"><a href="individual-parameter-analyses.html#cb79-3" aria-hidden="true" tabindex="-1"></a>assessmentCycle <span class="ot">&lt;-</span> <span class="st">&#39;2024&#39;</span></span></code></pre></div>
</div>
<div id="wqsvalues" class="section level4" number="3.5.12.2">
<h4><span class="header-section-number">3.5.12.2</span> WQSvalues</h4>
<p>The <code>WQSvalues</code> object is a tibble that allows for easy WQS updates should these values change over time. This data is joined to individual station data by WQS Class information to easily link measured parameters to appropriate criteria. Follow up functions refine the criteria information should a station’s WQS specify any special standards.</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="individual-parameter-analyses.html#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="co"># WQS information for functions</span></span>
<span id="cb80-2"><a href="individual-parameter-analyses.html#cb80-2" aria-hidden="true" tabindex="-1"></a><span class="co"># From: 9VAC25-260-50. Numerical Criteria for Dissolved Oxygen, Ph, and Maximum Temperature</span></span>
<span id="cb80-3"><a href="individual-parameter-analyses.html#cb80-3" aria-hidden="true" tabindex="-1"></a><span class="co"># https://law.lis.virginia.gov/admincode/title9/agency25/chapter260/section50/</span></span>
<span id="cb80-4"><a href="individual-parameter-analyses.html#cb80-4" aria-hidden="true" tabindex="-1"></a>WQSvalues <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">CLASS_BASIN =</span> <span class="fu">c</span>(<span class="st">&#39;I&#39;</span>,<span class="st">&quot;II&quot;</span>,<span class="st">&quot;II_7&quot;</span>,<span class="st">&quot;III&quot;</span>,<span class="st">&quot;IV&quot;</span>,<span class="st">&quot;V&quot;</span>,<span class="st">&quot;VI&quot;</span>,<span class="st">&quot;VII&quot;</span>),</span>
<span id="cb80-5"><a href="individual-parameter-analyses.html#cb80-5" aria-hidden="true" tabindex="-1"></a>                    <span class="at">CLASS =</span> <span class="fu">c</span>(<span class="st">&#39;I&#39;</span>,<span class="st">&quot;II&quot;</span>,<span class="st">&quot;II&quot;</span>,<span class="st">&quot;III&quot;</span>,<span class="st">&quot;IV&quot;</span>,<span class="st">&quot;V&quot;</span>,<span class="st">&quot;VI&quot;</span>,<span class="st">&quot;VII&quot;</span>),</span>
<span id="cb80-6"><a href="individual-parameter-analyses.html#cb80-6" aria-hidden="true" tabindex="-1"></a>                    <span class="st">`</span><span class="at">Description Of Waters</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&#39;Open Ocean&#39;</span>, <span class="st">&#39;Tidal Waters in the Chowan Basin and the Atlantic Ocean Basin&#39;</span>,</span>
<span id="cb80-7"><a href="individual-parameter-analyses.html#cb80-7" aria-hidden="true" tabindex="-1"></a>                                                <span class="st">&#39;Tidal Waters in the Chesapeake Bay and its tidal tributaries&#39;</span>,</span>
<span id="cb80-8"><a href="individual-parameter-analyses.html#cb80-8" aria-hidden="true" tabindex="-1"></a>                                                <span class="st">&#39;Nontidal Waters (Coastal and Piedmont Zone)&#39;</span>,<span class="st">&#39;Mountainous Zone Waters&#39;</span>,</span>
<span id="cb80-9"><a href="individual-parameter-analyses.html#cb80-9" aria-hidden="true" tabindex="-1"></a>                                                <span class="st">&#39;Stockable Trout Waters&#39;</span>,<span class="st">&#39;Natural Trout Waters&#39;</span>,<span class="st">&#39;Swamp Waters&#39;</span>),</span>
<span id="cb80-10"><a href="individual-parameter-analyses.html#cb80-10" aria-hidden="true" tabindex="-1"></a>                    <span class="st">`</span><span class="at">Dissolved Oxygen Min (mg/L)</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">5</span>,<span class="dv">4</span>,<span class="cn">NA</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="cn">NA</span>),</span>
<span id="cb80-11"><a href="individual-parameter-analyses.html#cb80-11" aria-hidden="true" tabindex="-1"></a>                    <span class="st">`</span><span class="at">Dissolved Oxygen Daily Avg (mg/L)</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="cn">NA</span>,<span class="dv">5</span>,<span class="cn">NA</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">7</span>,<span class="cn">NA</span>),</span>
<span id="cb80-12"><a href="individual-parameter-analyses.html#cb80-12" aria-hidden="true" tabindex="-1"></a>                    <span class="st">`</span><span class="at">pH Min</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">6</span>,<span class="dv">6</span>,<span class="fl">6.0</span>,<span class="fl">6.0</span>,<span class="fl">6.0</span>,<span class="fl">6.0</span>,<span class="fl">6.0</span>,<span class="fl">3.7</span>),</span>
<span id="cb80-13"><a href="individual-parameter-analyses.html#cb80-13" aria-hidden="true" tabindex="-1"></a>                    <span class="st">`</span><span class="at">pH Max</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="fl">9.0</span>,<span class="fl">9.0</span>,<span class="fl">9.0</span>,<span class="fl">9.0</span>,<span class="fl">9.0</span>,<span class="fl">9.0</span>,<span class="fl">9.0</span>,<span class="fl">8.0</span>),</span>
<span id="cb80-14"><a href="individual-parameter-analyses.html#cb80-14" aria-hidden="true" tabindex="-1"></a>                    <span class="st">`</span><span class="at">Max Temperature (C)</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="cn">NA</span>, <span class="cn">NA</span>, <span class="cn">NA</span>, <span class="dv">32</span>, <span class="dv">31</span>, <span class="dv">21</span>, <span class="dv">20</span>, <span class="cn">NA</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb80-15"><a href="individual-parameter-analyses.html#cb80-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">CLASS_DESCRIPTION =</span> <span class="fu">paste0</span>(CLASS, <span class="st">&quot; | &quot;</span>, <span class="st">`</span><span class="at">Description Of Waters</span><span class="st">`</span>))</span></code></pre></div>
</div>
<div id="concatenateunique" class="section level4" number="3.5.12.3">
<h4><span class="header-section-number">3.5.12.3</span> concatenateUnique</h4>
<p>This helper function returns a single concatenated vector with multiple entries separated by a comma.</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="individual-parameter-analyses.html#cb81-1" aria-hidden="true" tabindex="-1"></a>concatinateUnique <span class="ot">&lt;-</span> <span class="cf">function</span>(stuff){</span>
<span id="cb81-2"><a href="individual-parameter-analyses.html#cb81-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(<span class="fu">length</span>(stuff)<span class="sc">==</span><span class="dv">1</span>){</span>
<span id="cb81-3"><a href="individual-parameter-analyses.html#cb81-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(<span class="fu">is.na</span>(stuff)){<span class="fu">return</span>(<span class="cn">NA</span>)</span>
<span id="cb81-4"><a href="individual-parameter-analyses.html#cb81-4" aria-hidden="true" tabindex="-1"></a>    }<span class="cf">else</span>{</span>
<span id="cb81-5"><a href="individual-parameter-analyses.html#cb81-5" aria-hidden="true" tabindex="-1"></a>      <span class="fu">return</span>(<span class="fu">paste</span>(<span class="fu">unique</span>(stuff), <span class="at">collapse=</span> <span class="st">&#39;, &#39;</span>)) }</span>
<span id="cb81-6"><a href="individual-parameter-analyses.html#cb81-6" aria-hidden="true" tabindex="-1"></a>  } </span>
<span id="cb81-7"><a href="individual-parameter-analyses.html#cb81-7" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(<span class="fu">length</span>(stuff) <span class="sc">&gt;</span> <span class="dv">1</span>){<span class="fu">return</span>(<span class="fu">paste</span>(<span class="fu">unique</span>(stuff), <span class="at">collapse=</span> <span class="st">&#39;, &#39;</span>))}</span>
<span id="cb81-8"><a href="individual-parameter-analyses.html#cb81-8" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div id="changedeqregionname" class="section level4" number="3.5.12.4">
<h4><span class="header-section-number">3.5.12.4</span> changeDEQRegionName</h4>
<p>This helper function helps clean up data entry issues when a verbose region name is provided instead of an acronym.</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="individual-parameter-analyses.html#cb82-1" aria-hidden="true" tabindex="-1"></a>changeDEQRegionName <span class="ot">&lt;-</span> <span class="cf">function</span>(stuff){</span>
<span id="cb82-2"><a href="individual-parameter-analyses.html#cb82-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># have to do this bc different places in conventionals report the assessment region over sample region</span></span>
<span id="cb82-3"><a href="individual-parameter-analyses.html#cb82-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(<span class="fu">length</span>(stuff) <span class="sc">==</span> <span class="dv">1</span>){</span>
<span id="cb82-4"><a href="individual-parameter-analyses.html#cb82-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(<span class="fu">is.na</span>(stuff)){<span class="fu">return</span>(<span class="st">&quot;NA&quot;</span>)}</span>
<span id="cb82-5"><a href="individual-parameter-analyses.html#cb82-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(stuff <span class="sc">==</span> <span class="st">&quot;Valley&quot;</span>){<span class="fu">return</span>(<span class="st">&#39;VRO&#39;</span>)}</span>
<span id="cb82-6"><a href="individual-parameter-analyses.html#cb82-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(stuff <span class="sc">==</span> <span class="st">&quot;Northern&quot;</span>){<span class="fu">return</span>(<span class="st">&#39;NRO&#39;</span>)}</span>
<span id="cb82-7"><a href="individual-parameter-analyses.html#cb82-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(stuff <span class="sc">==</span> <span class="st">&quot;Piedmont&quot;</span>){<span class="fu">return</span>(<span class="st">&#39;PRO&#39;</span>)}</span>
<span id="cb82-8"><a href="individual-parameter-analyses.html#cb82-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(stuff <span class="sc">==</span> <span class="st">&quot;Blue Ridge&quot;</span>){<span class="fu">return</span>(<span class="st">&#39;BRRO&#39;</span>)}</span>
<span id="cb82-9"><a href="individual-parameter-analyses.html#cb82-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(stuff <span class="sc">==</span> <span class="st">&quot;Tidewater&quot;</span>){<span class="fu">return</span>(<span class="st">&#39;TRO&#39;</span>)}</span>
<span id="cb82-10"><a href="individual-parameter-analyses.html#cb82-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(stuff <span class="sc">==</span> <span class="st">&quot;Southwest&quot;</span> ){<span class="fu">return</span>(<span class="st">&#39;SWRO&#39;</span>)}</span>
<span id="cb82-11"><a href="individual-parameter-analyses.html#cb82-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(stuff <span class="sc">==</span> <span class="st">&#39;NA&#39;</span>){<span class="fu">return</span>(<span class="st">&#39;NA&#39;</span>)}</span>
<span id="cb82-12"><a href="individual-parameter-analyses.html#cb82-12" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {<span class="fu">return</span>(<span class="fu">concatinateUnique</span>(stuff))}</span>
<span id="cb82-13"><a href="individual-parameter-analyses.html#cb82-13" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div id="lakenamestandardization" class="section level4" number="3.5.12.5">
<h4><span class="header-section-number">3.5.12.5</span> lakeNameStandardization</h4>
<p>This helper function allows for easier lake name cleanup to allow for joins on lake name fields between disparate data types. By storing this crosswalk information in a single function, it can be easily updated if lake names change and applied to multiple scripts easily.</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="individual-parameter-analyses.html#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Lake name standardization</span></span>
<span id="cb83-2"><a href="individual-parameter-analyses.html#cb83-2" aria-hidden="true" tabindex="-1"></a>lakeNameStandardization <span class="ot">&lt;-</span> <span class="cf">function</span>(x){</span>
<span id="cb83-3"><a href="individual-parameter-analyses.html#cb83-3" aria-hidden="true" tabindex="-1"></a>  x <span class="sc">%&gt;%</span> </span>
<span id="cb83-4"><a href="individual-parameter-analyses.html#cb83-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">Lake_Name =</span> <span class="fu">case_when</span>(WATER_NAME <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&#39;Abel Lake Reservoir (Long Branch)&#39;</span>) <span class="sc">~</span> <span class="st">&#39;Abel Lake&#39;</span>,</span>
<span id="cb83-5"><a href="individual-parameter-analyses.html#cb83-5" aria-hidden="true" tabindex="-1"></a>                                 WATER_NAME <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&#39;Big Cherry Reservior&#39;</span>) <span class="sc">~</span> <span class="st">&#39;Big Cherry Lake&#39;</span>,</span>
<span id="cb83-6"><a href="individual-parameter-analyses.html#cb83-6" aria-hidden="true" tabindex="-1"></a>                                 WATER_NAME <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&#39;Dan River&#39;</span>,<span class="st">&#39;Buffalo Creek&#39;</span>,<span class="st">&#39;Bluestone Creek&#39;</span>) <span class="sc">~</span> <span class="st">&#39;Kerr Reservoir&#39;</span>,</span>
<span id="cb83-7"><a href="individual-parameter-analyses.html#cb83-7" aria-hidden="true" tabindex="-1"></a>                                 WATER_NAME <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&#39;Smith Lake (Aquia Reservoir)&#39;</span>) <span class="sc">~</span> <span class="st">&#39;Aquia Reservoir (Smith Lake)&#39;</span>,</span>
<span id="cb83-8"><a href="individual-parameter-analyses.html#cb83-8" aria-hidden="true" tabindex="-1"></a>                                 WATER_NAME <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&#39;Claytor Lake (New River)&#39;</span>, <span class="st">&#39;Claytor Lake (Peak Creek)&#39;</span>,</span>
<span id="cb83-9"><a href="individual-parameter-analyses.html#cb83-9" aria-hidden="true" tabindex="-1"></a>                                                   <span class="st">&#39;Claytor Lake Lower (New River)&#39;</span>) <span class="sc">~</span> <span class="st">&#39;Claytor Lake&#39;</span>,</span>
<span id="cb83-10"><a href="individual-parameter-analyses.html#cb83-10" aria-hidden="true" tabindex="-1"></a>                                 WATER_NAME <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&#39;Fairystone Lake (Goblin Town Creek)&#39;</span>) <span class="sc">~</span> <span class="st">&#39;Fairystone Lake&#39;</span>, </span>
<span id="cb83-11"><a href="individual-parameter-analyses.html#cb83-11" aria-hidden="true" tabindex="-1"></a>                                 WATER_NAME <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&#39;Harwood Mill Reservoir (PWS)&#39;</span>) <span class="sc">~</span> <span class="st">&#39;Harwood Mills Reservoir&#39;</span>,</span>
<span id="cb83-12"><a href="individual-parameter-analyses.html#cb83-12" aria-hidden="true" tabindex="-1"></a>                                 WATER_NAME <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&#39;Goose Creek&#39;</span>) <span class="sc">~</span> <span class="st">&#39;Goose Creek Reservoir&#39;</span>,</span>
<span id="cb83-13"><a href="individual-parameter-analyses.html#cb83-13" aria-hidden="true" tabindex="-1"></a>                                 WATER_NAME <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&#39;Lake Anna&#39;</span>, <span class="st">&#39;Lake Anna/Contrary Creek&#39;</span>, <span class="st">&#39;Lake Anna/Freshwater Creek&#39;</span>, </span>
<span id="cb83-14"><a href="individual-parameter-analyses.html#cb83-14" aria-hidden="true" tabindex="-1"></a>                                                   <span class="st">&#39;Lake Anna/Gold Mine Creek&#39;</span>, <span class="st">&#39;Lake Anna/Pamunkey Creek&#39;</span>, </span>
<span id="cb83-15"><a href="individual-parameter-analyses.html#cb83-15" aria-hidden="true" tabindex="-1"></a>                                                   <span class="st">&#39;Lake Anna/Plentiful Creek&#39;</span>, <span class="st">&#39;Terrys Run/Lake Anna&#39;</span>) <span class="sc">~</span> <span class="st">&#39;Lake Anna&#39;</span>,</span>
<span id="cb83-16"><a href="individual-parameter-analyses.html#cb83-16" aria-hidden="true" tabindex="-1"></a>                                 WATER_NAME <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&#39;Lake Cohoon (PWS)&#39;</span>) <span class="sc">~</span> <span class="st">&#39;Lake Cohoon&#39;</span>,     </span>
<span id="cb83-17"><a href="individual-parameter-analyses.html#cb83-17" aria-hidden="true" tabindex="-1"></a>                                 WATER_NAME <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&#39;Conner Lake&#39;</span>) <span class="sc">~</span> <span class="st">&#39;Lake Conner&#39;</span>,</span>
<span id="cb83-18"><a href="individual-parameter-analyses.html#cb83-18" aria-hidden="true" tabindex="-1"></a>                                 WATER_NAME <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&#39;Lake Kilby (PWS)&#39;</span>) <span class="sc">~</span> <span class="st">&#39;Lake Kilby&#39;</span>,</span>
<span id="cb83-19"><a href="individual-parameter-analyses.html#cb83-19" aria-hidden="true" tabindex="-1"></a>                                 WATER_NAME <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&#39;Lake Meade (PWS)&#39;</span>,<span class="st">&#39;Pitch Kettle Creek - Lake (PWS)&#39;</span>) <span class="sc">~</span> <span class="st">&#39;Lake Meade&#39;</span>,</span>
<span id="cb83-20"><a href="individual-parameter-analyses.html#cb83-20" aria-hidden="true" tabindex="-1"></a>                                 WATER_NAME <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&#39;Lake Moomaw (Jackson River)&#39;</span>,<span class="st">&#39;Lake Moomaw Middle (Jackson River)&#39;</span>) <span class="sc">~</span> <span class="st">&#39;Lake Moomaw&#39;</span>,</span>
<span id="cb83-21"><a href="individual-parameter-analyses.html#cb83-21" aria-hidden="true" tabindex="-1"></a>                                 WATER_NAME <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&#39;Lake Prince - Reservoir (PWS)&#39;</span>) <span class="sc">~</span> <span class="st">&#39;Lake Prince&#39;</span>,</span>
<span id="cb83-22"><a href="individual-parameter-analyses.html#cb83-22" aria-hidden="true" tabindex="-1"></a>                                 WATER_NAME <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&#39;Lake Shenandoah&#39;</span>) <span class="sc">~</span> <span class="st">&#39;Shenandoah Lake&#39;</span>,</span>
<span id="cb83-23"><a href="individual-parameter-analyses.html#cb83-23" aria-hidden="true" tabindex="-1"></a>                                 WATER_NAME <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&#39;Lake Smith (PWS)&#39;</span>) <span class="sc">~</span> <span class="st">&#39;Lake Smith&#39;</span>,</span>
<span id="cb83-24"><a href="individual-parameter-analyses.html#cb83-24" aria-hidden="true" tabindex="-1"></a>                                 WATER_NAME <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&#39;Lake Whitehurst (PWS)&#39;</span>) <span class="sc">~</span> <span class="st">&#39;Lake Whitehurst&#39;</span>,</span>
<span id="cb83-25"><a href="individual-parameter-analyses.html#cb83-25" aria-hidden="true" tabindex="-1"></a>                                 WATER_NAME <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&#39;Leesville Lake&#39;</span>, <span class="st">&#39;Leesville Lake (Pigg R.)&#39;</span>, </span>
<span id="cb83-26"><a href="individual-parameter-analyses.html#cb83-26" aria-hidden="true" tabindex="-1"></a>                                                   <span class="st">&#39;Leesville Lake Middle (Roanoke R.)&#39;</span>) <span class="sc">~</span> <span class="st">&#39;Leesville Lake&#39;</span>,</span>
<span id="cb83-27"><a href="individual-parameter-analyses.html#cb83-27" aria-hidden="true" tabindex="-1"></a>                                 WATER_NAME <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&#39;Lee Hall Reservoir- Upper, Middle&#39;</span>,<span class="st">&#39;Lee Hall Reservoir-Lower&#39;</span>) <span class="sc">~</span> <span class="st">&#39;Lee Hall Reservoir&#39;</span>,</span>
<span id="cb83-28"><a href="individual-parameter-analyses.html#cb83-28" aria-hidden="true" tabindex="-1"></a>                                 WATER_NAME <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&#39;Little Creek Reservoir - (PWS)&#39;</span>) <span class="sc">~</span> <span class="st">&#39;Little Creek Reservoir (VBC)&#39;</span>,</span>
<span id="cb83-29"><a href="individual-parameter-analyses.html#cb83-29" aria-hidden="true" tabindex="-1"></a>                                 WATER_NAME <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&#39;Little Creek Reservoir (PWS)&#39;</span>) <span class="sc">~</span> <span class="st">&#39;Little Creek Reservoir (JCC)&#39;</span>,</span>
<span id="cb83-30"><a href="individual-parameter-analyses.html#cb83-30" aria-hidden="true" tabindex="-1"></a>                                 WATER_NAME <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&#39;Lonestar Lake F (PWS)&#39;</span>) <span class="sc">~</span> <span class="st">&#39;Lone Star Lake F (Crystal Lake)&#39;</span>, </span>
<span id="cb83-31"><a href="individual-parameter-analyses.html#cb83-31" aria-hidden="true" tabindex="-1"></a>                                 WATER_NAME <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&#39;Lone Star Lake G (PWS)&#39;</span>) <span class="sc">~</span> <span class="st">&#39;Lone Star Lake G (Crane Lake)&#39;</span>, </span>
<span id="cb83-32"><a href="individual-parameter-analyses.html#cb83-32" aria-hidden="true" tabindex="-1"></a>                                 WATER_NAME <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&#39;Lone Star Lake I (PWS)&#39;</span>) <span class="sc">~</span> <span class="st">&#39;Lone Star Lake I (Butler Lake)&#39;</span>, </span>
<span id="cb83-33"><a href="individual-parameter-analyses.html#cb83-33" aria-hidden="true" tabindex="-1"></a>                                 WATER_NAME <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&#39;Martinsville (Beaver Creek) Reservoir&#39;</span>,</span>
<span id="cb83-34"><a href="individual-parameter-analyses.html#cb83-34" aria-hidden="true" tabindex="-1"></a>                                                   <span class="st">&#39;Martinsville Reservoir&#39;</span>) <span class="sc">~</span> <span class="st">&#39;Martinsville Reservoir (Beaver Creek Reservoir)&#39;</span>,</span>
<span id="cb83-35"><a href="individual-parameter-analyses.html#cb83-35" aria-hidden="true" tabindex="-1"></a>                                 WATER_NAME <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&#39;Moormans River&#39;</span>) <span class="sc">~</span> <span class="st">&#39;Sugar Hollow Reservoir&#39;</span>,</span>
<span id="cb83-36"><a href="individual-parameter-analyses.html#cb83-36" aria-hidden="true" tabindex="-1"></a>                                 WATER_NAME <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&#39;North River&#39;</span>) <span class="sc">~</span> <span class="st">&#39;Staunton Dam Lake&#39;</span>,</span>
<span id="cb83-37"><a href="individual-parameter-analyses.html#cb83-37" aria-hidden="true" tabindex="-1"></a>                                 WATER_NAME <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&#39;Philpott Reservoir (Goblin Town Creek)&#39;</span>, <span class="st">&#39;Philpott Reservoir Lower (Smith River)&#39;</span>,</span>
<span id="cb83-38"><a href="individual-parameter-analyses.html#cb83-38" aria-hidden="true" tabindex="-1"></a>                                                   <span class="st">&#39;Philpott Reservoir (Smith River)&#39;</span>) <span class="sc">~</span> <span class="st">&quot;Philpott Reservoir&quot;</span>,</span>
<span id="cb83-39"><a href="individual-parameter-analyses.html#cb83-39" aria-hidden="true" tabindex="-1"></a>                                 WATER_NAME <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&#39;Roanoke River&#39;</span>,<span class="st">&#39;Lake Gaston&#39;</span>) <span class="sc">~</span> <span class="st">&#39;Lake Gaston&#39;</span>,     </span>
<span id="cb83-40"><a href="individual-parameter-analyses.html#cb83-40" aria-hidden="true" tabindex="-1"></a>                                 WATER_NAME <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&#39;Roaring Fork Reservoir&#39;</span>) <span class="sc">~</span> <span class="st">&#39;Roaring Fork&#39;</span>,</span>
<span id="cb83-41"><a href="individual-parameter-analyses.html#cb83-41" aria-hidden="true" tabindex="-1"></a>                                 WATER_NAME <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&#39;S F Rivanna River Reservoir&#39;</span>) <span class="sc">~</span> <span class="st">&#39;Rivanna Reservoir (South Fork Rivanna Reservoir)&#39;</span>,</span>
<span id="cb83-42"><a href="individual-parameter-analyses.html#cb83-42" aria-hidden="true" tabindex="-1"></a>                                 <span class="fu">str_detect</span>(WATER_NAME, <span class="st">&#39;Smith Mtn. Lake&#39;</span>) <span class="sc">~</span> <span class="st">&#39;Smith Mountain Lake&#39;</span>, </span>
<span id="cb83-43"><a href="individual-parameter-analyses.html#cb83-43" aria-hidden="true" tabindex="-1"></a>                                 WATER_NAME <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&#39;Speights Run - Lake (PWS)&#39;</span>) <span class="sc">~</span> <span class="st">&#39;Speights Run Lake&#39;</span>,</span>
<span id="cb83-44"><a href="individual-parameter-analyses.html#cb83-44" aria-hidden="true" tabindex="-1"></a>                                 WATER_NAME <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&#39;Troublesome Reservoir&#39;</span>) <span class="sc">~</span> <span class="st">&#39;Troublesome Creek Reservoir&#39;</span>,</span>
<span id="cb83-45"><a href="individual-parameter-analyses.html#cb83-45" aria-hidden="true" tabindex="-1"></a>                                 WATER_NAME <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&#39;Waller Mill Reservoir [PWS]&#39;</span>) <span class="sc">~</span> <span class="st">&#39;Waller Mill Reservoir&#39;</span>,</span>
<span id="cb83-46"><a href="individual-parameter-analyses.html#cb83-46" aria-hidden="true" tabindex="-1"></a>                                 WATER_NAME <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&#39;Unnamed pond near Tanyard Swamp&#39;</span>) <span class="sc">~</span> <span class="st">&#39;Tanyard Swamp&#39;</span>,</span>
<span id="cb83-47"><a href="individual-parameter-analyses.html#cb83-47" aria-hidden="true" tabindex="-1"></a>                                 WATER_NAME <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&#39;Unsegmented lakes in G03&#39;</span>) <span class="sc">~</span> <span class="st">&#39;West Run&#39;</span>,</span>
<span id="cb83-48"><a href="individual-parameter-analyses.html#cb83-48" aria-hidden="true" tabindex="-1"></a>                                 <span class="cn">TRUE</span> <span class="sc">~</span> <span class="fu">as.character</span>(WATER_NAME))) </span>
<span id="cb83-49"><a href="individual-parameter-analyses.html#cb83-49" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div id="quickstats" class="section level4" number="3.5.12.6">
<h4><span class="header-section-number">3.5.12.6</span> quickStats</h4>
<p>This helper function is essential to the automated assessment process. The function takes in parameter data with exceedances identified and simplifies the data into a suggested assessment decision, where appropriate. The <code>parameter</code> argument allows users to pass through a character string they want to be included in the Stations Table field naming format. The <code>drop7Q10</code> argument is default set to false for automated assessment purposes, but the shiny applications use this feature to quickly rerun the exceedance math should a user decide that the 7Q10 flag should be used to remove data for a station and parameter combination.</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="individual-parameter-analyses.html#cb84-1" aria-hidden="true" tabindex="-1"></a>quickStats <span class="ot">&lt;-</span> <span class="cf">function</span>(parameterDataset, <span class="co"># dataset from one station that has been run through a parameter exceedance analysis function </span></span>
<span id="cb84-2"><a href="individual-parameter-analyses.html#cb84-2" aria-hidden="true" tabindex="-1"></a>                       <span class="co">#                  (e.g. tempExceedances(), DOExceedances_Min(), pHexceedances())</span></span>
<span id="cb84-3"><a href="individual-parameter-analyses.html#cb84-3" aria-hidden="true" tabindex="-1"></a>                       parameter, <span class="co"># the name of the parameter as you want it to appear in final stations table output</span></span>
<span id="cb84-4"><a href="individual-parameter-analyses.html#cb84-4" aria-hidden="true" tabindex="-1"></a>                       <span class="at">drop7Q10 =</span> <span class="cn">FALSE</span> <span class="co"># drop any records from this analysis with a 7Q10 flag, default is false but can be overridden in apps</span></span>
<span id="cb84-5"><a href="individual-parameter-analyses.html#cb84-5" aria-hidden="true" tabindex="-1"></a>                       ){</span>
<span id="cb84-6"><a href="individual-parameter-analyses.html#cb84-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Drop any 7Q10 flagged data from exceedance analyses for appropriate parameters</span></span>
<span id="cb84-7"><a href="individual-parameter-analyses.html#cb84-7" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(drop7Q10 <span class="sc">==</span> <span class="cn">TRUE</span> <span class="sc">&amp;</span></span>
<span id="cb84-8"><a href="individual-parameter-analyses.html#cb84-8" aria-hidden="true" tabindex="-1"></a>     parameter <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;TEMP&quot;</span>, <span class="st">&quot;DO&quot;</span>, <span class="st">&quot;DO_Daily_Avg&quot;</span>, <span class="st">&quot;PH&quot;</span>)){</span>
<span id="cb84-9"><a href="individual-parameter-analyses.html#cb84-9" aria-hidden="true" tabindex="-1"></a>    parameterDataset <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">filter</span>(parameterDataset, <span class="fu">is.na</span>(<span class="st">`</span><span class="at">7Q10 Flag</span><span class="st">`</span>)) <span class="co"># only assess on assessable dataset</span></span>
<span id="cb84-10"><a href="individual-parameter-analyses.html#cb84-10" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb84-11"><a href="individual-parameter-analyses.html#cb84-11" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb84-12"><a href="individual-parameter-analyses.html#cb84-12" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(<span class="fu">nrow</span>(parameterDataset) <span class="sc">&gt;</span> <span class="dv">0</span> <span class="sc">&amp;</span> <span class="fu">any</span>(<span class="sc">!</span><span class="fu">is.na</span>(parameterDataset<span class="sc">$</span>limit))){</span>
<span id="cb84-13"><a href="individual-parameter-analyses.html#cb84-13" aria-hidden="true" tabindex="-1"></a>    results <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">EXC =</span> <span class="fu">nrow</span>(dplyr<span class="sc">::</span><span class="fu">filter</span>(parameterDataset, exceeds <span class="sc">==</span> <span class="cn">TRUE</span>)),</span>
<span id="cb84-14"><a href="individual-parameter-analyses.html#cb84-14" aria-hidden="true" tabindex="-1"></a>                          <span class="at">SAMP =</span> <span class="fu">nrow</span>(parameterDataset)) <span class="sc">%&gt;%</span></span>
<span id="cb84-15"><a href="individual-parameter-analyses.html#cb84-15" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Implement Round to Even on Exceedance Frequency</span></span>
<span id="cb84-16"><a href="individual-parameter-analyses.html#cb84-16" aria-hidden="true" tabindex="-1"></a>      dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">exceedanceRate =</span> <span class="fu">as.numeric</span>(round<span class="sc">::</span><span class="fu">roundAll</span>((EXC<span class="sc">/</span>SAMP)<span class="sc">*</span><span class="dv">100</span>,<span class="at">digits=</span><span class="dv">0</span>, <span class="st">&quot;r0.C&quot;</span>))) <span class="co"># round to nearest whole number per Memo to Standardize Rounding for Assessment Guidance</span></span>
<span id="cb84-17"><a href="individual-parameter-analyses.html#cb84-17" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb84-18"><a href="individual-parameter-analyses.html#cb84-18" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(results<span class="sc">$</span>EXC <span class="sc">&gt;=</span> <span class="dv">1</span>){outcome <span class="ot">&lt;-</span> <span class="st">&#39;Review&#39;</span>} <span class="co"># for Mary</span></span>
<span id="cb84-19"><a href="individual-parameter-analyses.html#cb84-19" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(results<span class="sc">$</span>EXC <span class="sc">&gt;=</span> <span class="dv">1</span> <span class="sc">&amp;</span> results<span class="sc">$</span>exceedanceRate <span class="sc">&lt;</span> <span class="fl">10.5</span>){outcome <span class="ot">&lt;-</span> <span class="st">&#39;Review&#39;</span>}</span>
<span id="cb84-20"><a href="individual-parameter-analyses.html#cb84-20" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(results<span class="sc">$</span>exceedanceRate <span class="sc">&gt;</span> <span class="fl">10.5</span> <span class="sc">&amp;</span> results<span class="sc">$</span>EXC <span class="sc">&gt;=</span> <span class="dv">2</span> <span class="sc">&amp;</span> results<span class="sc">$</span>SAMP <span class="sc">&gt;</span> <span class="dv">10</span>){outcome <span class="ot">&lt;-</span> <span class="st">&#39;10.5% Exceedance&#39;</span>}</span>
<span id="cb84-21"><a href="individual-parameter-analyses.html#cb84-21" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(results<span class="sc">$</span>EXC <span class="sc">&lt;</span> <span class="dv">1</span> <span class="sc">&amp;</span>results<span class="sc">$</span>exceedanceRate <span class="sc">&lt;</span> <span class="fl">10.5</span> <span class="sc">&amp;</span> results<span class="sc">$</span>SAMP <span class="sc">&gt;</span> <span class="dv">10</span>){outcome <span class="ot">&lt;-</span> <span class="st">&#39;S&#39;</span>}</span>
<span id="cb84-22"><a href="individual-parameter-analyses.html#cb84-22" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(results<span class="sc">$</span>EXC <span class="sc">&gt;=</span> <span class="dv">1</span> <span class="sc">&amp;</span> results<span class="sc">$</span>SAMP <span class="sc">&lt;=</span> <span class="dv">10</span>){outcome <span class="ot">&lt;-</span> <span class="st">&#39;Review&#39;</span>}</span>
<span id="cb84-23"><a href="individual-parameter-analyses.html#cb84-23" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(results<span class="sc">$</span>EXC <span class="sc">&lt;</span> <span class="dv">1</span> <span class="sc">&amp;</span> results<span class="sc">$</span>SAMP <span class="sc">&lt;=</span> <span class="dv">10</span> <span class="sc">&amp;</span> results<span class="sc">$</span>SAMP <span class="sc">&gt;</span> <span class="dv">1</span>){outcome <span class="ot">&lt;-</span> <span class="st">&#39;S&#39;</span>} <span class="co"># &amp; results$SAMP &gt;1 new 12/21/2020 can&#39;t say supporting on 1 sample</span></span>
<span id="cb84-24"><a href="individual-parameter-analyses.html#cb84-24" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(results<span class="sc">$</span>EXC <span class="sc">&lt;</span> <span class="dv">1</span> <span class="sc">&amp;</span> results<span class="sc">$</span>SAMP <span class="sc">&lt;=</span> <span class="dv">10</span> <span class="sc">&amp;</span> results<span class="sc">$</span>SAMP <span class="sc">==</span> <span class="dv">1</span>){outcome <span class="ot">&lt;-</span> <span class="st">&#39;Review&#39;</span>} <span class="co"># &amp; results$SAMP &gt;1 new 12/21/2020 can&#39;t say supporting on 1 sample</span></span>
<span id="cb84-25"><a href="individual-parameter-analyses.html#cb84-25" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb84-26"><a href="individual-parameter-analyses.html#cb84-26" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb84-27"><a href="individual-parameter-analyses.html#cb84-27" aria-hidden="true" tabindex="-1"></a>    results <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">mutate</span>(results, <span class="at">STAT =</span> outcome)</span>
<span id="cb84-28"><a href="individual-parameter-analyses.html#cb84-28" aria-hidden="true" tabindex="-1"></a>    <span class="fu">names</span>(results) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">paste</span>(parameter,<span class="fu">names</span>(results)[<span class="dv">1</span>], <span class="at">sep =</span> <span class="st">&#39;_&#39;</span>),</span>
<span id="cb84-29"><a href="individual-parameter-analyses.html#cb84-29" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">paste</span>(parameter,<span class="fu">names</span>(results)[<span class="dv">2</span>], <span class="at">sep =</span> <span class="st">&#39;_&#39;</span>),</span>
<span id="cb84-30"><a href="individual-parameter-analyses.html#cb84-30" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">paste</span>(parameter,<span class="fu">names</span>(results)[<span class="dv">3</span>], <span class="at">sep =</span> <span class="st">&#39;_&#39;</span>),</span>
<span id="cb84-31"><a href="individual-parameter-analyses.html#cb84-31" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">paste</span>(parameter,<span class="fu">names</span>(results)[<span class="dv">4</span>], <span class="at">sep =</span> <span class="st">&#39;_&#39;</span>))</span>
<span id="cb84-32"><a href="individual-parameter-analyses.html#cb84-32" aria-hidden="true" tabindex="-1"></a>    <span class="co">#rename based on parameter entered</span></span>
<span id="cb84-33"><a href="individual-parameter-analyses.html#cb84-33" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(results)</span>
<span id="cb84-34"><a href="individual-parameter-analyses.html#cb84-34" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb84-35"><a href="individual-parameter-analyses.html#cb84-35" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(<span class="fu">nrow</span>(parameterDataset) <span class="sc">==</span> <span class="dv">0</span>){</span>
<span id="cb84-36"><a href="individual-parameter-analyses.html#cb84-36" aria-hidden="true" tabindex="-1"></a>      z <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">EXC =</span> <span class="cn">NA</span>, <span class="at">SAMP=</span> <span class="fu">nrow</span>(parameterDataset), <span class="at">exceedanceRate=</span> <span class="cn">NA</span>, <span class="at">STAT=</span> <span class="cn">NA</span>)</span>
<span id="cb84-37"><a href="individual-parameter-analyses.html#cb84-37" aria-hidden="true" tabindex="-1"></a>      <span class="fu">names</span>(z) <span class="ot">&lt;-</span> <span class="fu">paste</span>(parameter,<span class="fu">names</span>(z), <span class="at">sep=</span><span class="st">&#39;_&#39;</span>)</span>
<span id="cb84-38"><a href="individual-parameter-analyses.html#cb84-38" aria-hidden="true" tabindex="-1"></a>      <span class="fu">return</span>(z)</span>
<span id="cb84-39"><a href="individual-parameter-analyses.html#cb84-39" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb84-40"><a href="individual-parameter-analyses.html#cb84-40" aria-hidden="true" tabindex="-1"></a>      z <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">EXC =</span> <span class="cn">NA</span>, <span class="at">SAMP=</span> <span class="fu">nrow</span>(parameterDataset), <span class="at">exceedanceRate=</span> <span class="cn">NA</span>, <span class="at">STAT=</span> <span class="fu">paste</span>(parameter, <span class="st">&#39;WQS info missing from analysis&#39;</span>))</span>
<span id="cb84-41"><a href="individual-parameter-analyses.html#cb84-41" aria-hidden="true" tabindex="-1"></a>      <span class="fu">names</span>(z) <span class="ot">&lt;-</span> <span class="fu">paste</span>(parameter,<span class="fu">names</span>(z), <span class="at">sep=</span><span class="st">&#39;_&#39;</span>)</span>
<span id="cb84-42"><a href="individual-parameter-analyses.html#cb84-42" aria-hidden="true" tabindex="-1"></a>      <span class="fu">return</span>(z)</span>
<span id="cb84-43"><a href="individual-parameter-analyses.html#cb84-43" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb84-44"><a href="individual-parameter-analyses.html#cb84-44" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb84-45"><a href="individual-parameter-analyses.html#cb84-45" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb84-46"><a href="individual-parameter-analyses.html#cb84-46" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="automated-assessment-analysis.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="automated-output.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": null
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["series.pdf"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
